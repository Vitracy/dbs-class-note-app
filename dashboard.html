<!-- Credit: vitracy -->
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Note Keep</title>
		<!-- Google Font -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet">
		<!-- Huge Icons -->
		<link rel="stylesheet" href="https://cdn.hugeicons.com/font/hgi-stroke-rounded.css" />
		<style type="text/css">
			body {
				font-family: "Plus Jakarta Sans";
				background-color: #F8FBFC;
			}
			.container {
				width: 390px;
				margin-left: auto;
				margin-right: auto;
				padding: 50px;
			}
			.judul{
				display: flex;
				align-items: center;
				justify-content: space-between;
				margin-bottom: 10px;
			}
			.judul-teks{
				font-weight: bold;
			}
			.judul-teks p{	
				color: #777777;
				font-size: 10pt;			
				margin-bottom: 0;
			}
			.judul-teks h2{
				margin-top: 0;
				font-size: 16pt;
			}
			.logo-keluar{
				font-size: 30px;
			}
			.logo-close-add
			{
				padding-right: 10px;
				font-size: 20px;
				display: none;
			}
			.logo-show-add
			{
				padding-right: 10px;
				font-size: 25px;
				display: block;
			}
			.header{
				background-color: white;
				padding-top: 15px;
				padding-bottom: 15px;
				margin-top: 10px;
			}
			.header-add-note{
				background-color: white;
				margin-top: 25px;
				cursor: pointer;
			}
			.header-add-note:hover{
				
				border-radius: 8px;
			}
			.sub-header-add-note{
				display: flex; align-items: center; justify-content: space-between;
			}
			.form-header{
				display: flex;
				align-items: center;
			}
			.form-header span{
				font-size: 12px;
				font-weight: bold;
			}
			.logo-create{
				font-size: 30px;
				padding: 10px;
				color: #19C3E6;
			}
			#span-create{
				user-select: none;
			}
			.input{
				margin-top: 10px;
				margin-left: 10px;
				margin-right: 10px;
			}
			.input-title{
				width: calc(100% - 23px);
				height: 45px;
				padding-left: 10px;
				padding-right: 10px;
				border: 2px solid #C4C4C4;
				border-radius: 8px;
				margin-bottom: 10px;
				color: #7E7E7E;
			}
			.input-note{
				width: calc(100% - 23px);
				height: 100px;
				padding-top: 10px;
				padding-left: 10px;
				padding-right: 10px;
				border-radius: 8px;
				border: 2px solid #C4C4C4;
				color: #7E7E7E;
				resize: vertical;
			}

			.btn-add-note {
		      background-color: #19c3e6;
		      color: white;
		      font-weight: bold;
		      border: none;
		      display: block;
		      margin: auto;
		      margin-top: 20px;
		      width: 100%;
		      padding: 8px;
		      border-radius: 5px;
		    }
		    .your-notes{
		    	padding-top: 15px;
		    }
		    .your-notes h2{
		    	font-size: 16pt;
		    	font-weight: bold;
		    }
		    .note-slot{
		    	background-color: white;
		    	margin-bottom: 10px;
		    	margin-top: 10px;
		    }
		    .header-slot{
		    	justify-content: space-between;
		    	align-items: center;
		    	display: flex;
		    }
		    .left-header-slot{
		    	padding-left: 10px;
		    }
		    .left-header-slot h3{
		    	margin-bottom: 0px;
		    	font-size: 14pt;
		    	font-weight: bold;
		    }
		    .left-header-slot label{
		    	color: #4E8B97;
		    	font-size: 9pt;
		    }
		    .right-header-slot{
		    	padding-right: 10px;
		    	font-size: 20px;
		    }
		    .text-slot{
		    	padding: 10px;
		    }
		    .text-slot p{
		    	font-size: 12pt;
		    	text-align: left;
		    }
		   
		    /* Add Zoom Animation */
			.animate {
			  -webkit-animation: animatezoom 0.6s;
			  animation: animatezoom 0.6s
			}

			@-webkit-keyframes animatezoom {
			  from {-webkit-transform: translateY(-10px)} 
			  to {-webkit-transform: translateY(0)}
			}
			  
			@keyframes animatezoom {
			  from {transform: translateY(-10px)} 
			  to {transform: translateY(0)}
			}

			/*----------*/

			.window-add-edit-note{
				display: none;
			}
			
			button{
		      cursor: pointer;
		    }

		    button:hover{
		      opacity: 0.8;
		    }

		    input:hover{
		      border: 2px solid #7F7F7F;
		    }
		    i{
		    	cursor: pointer;
		    }

		    .empty-notes-message{
		    	text-align: center;
		    	font-size: 11pt;
		    	font-style: italic;
		    	color: #00314D;
		    	display: none;
		    }
		</style>
	</head>
	<body>
		<div class="container">
			<div class="judul">
				<div class="judul-teks">
					<p>DASHBOARD</p>
					<h2>Hi, student@uni.edu</h2>
				</div>
				<i onclick="logout()" class="hgi hgi-stroke hgi-logout-circle-02 logo-keluar"></i>
			</div>
			<div class="header-add-note" onclick="toggleWindowAdd()">
				<div class="sub-header-add-note">
					<div class="form-header">
						<i class="hgi hgi-stroke hgi-property-edit logo-create"></i>
						<span id="span-create">Create New Note</span>
					</div>
					<i id="logo-close-add" class="hgi hgi-stroke hgi-cancel-01 logo-close-add"></i>
					<i id="logo-show-add" class="hgi hgi-stroke hgi-arrow-down-03 logo-show-add"></i>
				</div>
			</div>
			<div id="create-note" class="window-add-edit-note">
				<form onsubmit="return tambahCatatan()" class="animate">
					<div class="header">
						<div class="input">
							<input id="judul-catatan" type="text" placeholder="Note title" class="input-title" required>
							<textarea id="konten-catatan" class="input-note" placeholder="Write your thoughts here..." required></textarea>
							<button type="submit" id="btn-add" class="btn-add-note">+ Add Note</button>
						</div>
					</div>
				</form>
			</div>
			
			<div class="your-notes">
				<h2>Your Notes</h2>
				<div class="empty-notes-message" id="empty-notes-message">
					<span>looks like you don't have any notes :(</span>
				</div>
				<div id="wadah">
					
				</div>		
			</div>
		</div>
			

	<script type="text/javascript">
		let onEdit = null;
		let sedangEdit = false;
		let daftarCatatan = [];

		var windowCreateNote = document.getElementById('create-note');
		var logoCloseAdd = document.getElementById('logo-close-add');
		var logoShowAdd = document.getElementById('logo-show-add');

		// function	
		function toggleWindowAdd() {
			if(windowCreateNote.style.display != "block") {
				showWindowAdd();
			}
			else {
				hideWindowAdd();
			}
		}

		function showWindowAdd() {
			windowCreateNote.style.display = "block";
			logoShowAdd.style.display = "none";
			logoCloseAdd.style.display = "block";
		}

		function hideWindowAdd() {
			windowCreateNote.style.display = "none";
			logoCloseAdd.style.display = "none";
			logoShowAdd.style.display = "block";
		}

		function hapusCatatan(index) {
			if(sedangEdit) return alert("Harap selesaikan edit");
			daftarCatatan.splice(index, 1);
			tampilkanCatatan();
		}

		function editCatatan(index) {
			sedangEdit = true;
			onEdit = index;

			let btnAddNote = document.getElementById("btn-add");
			let spanCreate = document.getElementById("span-create");

			let inTitle = document.getElementById("judul-catatan");
		    let inContent = document.getElementById("konten-catatan");

		    inTitle.value = daftarCatatan[index].judul;
		    inContent.value = daftarCatatan[index].konten;

		    btnAddNote.innerText = 'Save';
		    spanCreate.innerText = 'Editing note';

		    showWindowAdd();
		}

		function tambahCatatan() {
			// ambil DOM

		    let inTitle = document.getElementById("judul-catatan");
		    let inContent = document.getElementById("konten-catatan");

		    let date = new Date(); 
			let dd = date.getDate(); 
			let mm = date.getMonth() + 1; 
			let yyyy = date.getFullYear(); 
			let newDate = dd + "-" + mm + "-" +yyyy; 
      
      		if(sedangEdit) {
      			daftarCatatan[onEdit].judul = inTitle.value;
      			daftarCatatan[onEdit].konten = inContent.value;
      			daftarCatatan[onEdit].tanggal = newDate;

				let btnAddNote = document.getElementById("btn-add");
				let spanCreate = document.getElementById("span-create");
				btnAddNote.innerText = '+ Add Note';
		   		spanCreate.innerText = 'Create New Note';
		   		sedangEdit = false;
		   		onEdit = null;
		   		tampilkanCatatan();
      		}
      		else {
      			// masukin ke array
			    let newCatatan = {
			        judul: inTitle.value,
			        konten: inContent.value,
			        tanggal: newDate
			    }
			    daftarCatatan.push(newCatatan);

				// panggill tampilkanCatatan
				tampilkanCatatan();
      		}
      		hideWindowAdd()
			return false	
		}

		function tampilkanCatatan() {
			//ambill DOM
			let count = 0;
			let messageEmptyNotes = document.getElementById('empty-notes-message');
			wadah.innerHTML = ``;
			for(let i = 0; i < daftarCatatan.length; i++) {
				count++;
				wadah.innerHTML += `<div class="note-slot">
						<div class="header-slot">
							<div class="left-header-slot">
								<h3>${daftarCatatan[i].judul}</h3>
								<label>${daftarCatatan[i].tanggal}</label>
							</div>
							<div class="right-header-slot">
								<i onclick="editCatatan(${i})" class="hgi hgi-stroke hgi-edit-02"> </i>
								<i onclick="hapusCatatan(${i})" class="hgi hgi-stroke hgi-delete-03"></i>
							</div>
						</div>
						<div class="text-slot">
							<p>${daftarCatatan[i].konten}</p>
						</div>
					</div>`
			}
			messageEmptyNotes.style.display = "none";
			if(count == 0)
			{
				messageEmptyNotes.style.display = "block";
			}
			if(!sedangEdit)
			{
				let inTitle = document.getElementById("judul-catatan");
			    let inContent = document.getElementById("konten-catatan");
			    inTitle.value = null;
			    inContent.value = null;
			}	
		}
		function logout() {
			window.location.href = './index.html';
		}

		document.addEventListener('DOMContentLoaded', tampilkanCatatan());
		
	</script>

	</body>
</html>